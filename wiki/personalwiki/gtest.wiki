%title `gtest`

%toc

= `gtest` tricks =

To [run a subset of tests](https://code.google.com/p/googletest/wiki/AdvancedGuide#Running_a_Subset_of_the_Tests), set the `GTEST_FILTER` environment variable accordingly, e.g.

{{{
$ GTEST_FILTER=Foo*:Bar* test_suite
}}}

will run `test_suite`, but will only actually run tests starting with _Bar_ in fixtures starting with _Foo_.

To [lists test names](https://code.google.com/p/googletest/wiki/AdvancedGuide#Listing_Test_Names) in a `gtest` test suite use the `--gtest_list_tests` flag.

= `gtest` Scoped Trace =
If you want to give some additional context to gtest assertions then put them inside a *scoped trace*.
{{{
void Assertion() {
	ASSERT_EQ(1, 2)
}
...
{
	SCOPED_TRACE("SomeContext");
	Assertion();
}
}}}

The test results will show the failed assertion and where it happened, but will also give something that reads a bit like a stack trace and will lead back to scope where the error happened.

    Keeping the scope as limited as possible makes identifying where the problem is that much easier.
