%title Technical Journal

Table of Contents
%toc

= Specific Topics =
* [[gtest]]
* [[gdb]]
* [[bash]]
* [[awk]]

= General Topics =

== Shrink Linux partition ==
See http://geekpeek.net/resize-filesystem-fdisk-resize2fs/

3 basic steps:

* Check that the filesystem is in good shape
	* `e2fsck -f /dev/sdx`
* Resize (shrink) the filesystem
	* `resize2fs /dev/sdx 10G`
* Shrink the partition
	* `fdisk /dev/sdb`
		* `d 1`
		* `w`
		* `n`
		* `w`

== `rsync` With Bandwidth Limit ==
Limit an rsync transfer to a certain KBPS using something like this:
{{{
rsync <SRC> <DEST> --bwlimit=<KBPS>
}}}

== Shrinking a PDF ==
See http://www.ehow.com/how_6823473_reduce-pdf-file-size-linux.html
{{{
gs -dNOPAUSE -dBATCH -sDEVICE=pdfwrite -dCompatibilityLevel=1.4 -dPDFSETTINGS=<setting> -sOutputFile=output.pdf input.pdf
}}}
where <setting> is:

- `/screen`
- `/ebook`
- `/printer`, `/prepress`

See http://www.ehow.com/how_6823473_reduce-pdf-file-size-linux.html

== Interrogating libraries and objects ==
`nm` will list the symbols in an object file.
Itâ€™s convenient to pipe the output through c++filt., e.g.
{{{
nm <libname>.so | c++filt | grep <symbol>
}}}
`ldd` will list the shared library dependencies.

== smbclient ==
To access a samba server from the command line, use smbclient, e.g.
{{{
smbclient //10.10.10.7/share -U stefan.adelbert
}}}
The you can access files on the share much like using an FTP client, e.g.
{{{
get <filename>
}}}

== Lingering schroot session ==
Sometimes after logging out or shutting down, schroot session are persisted. This is evident from a bunch of mounts hanging around, e.g.

{{{
$ mount
...
/opt/chroots/mychroot on /var/lib/schroot/mount/mychroot-310b4003-44f5-42c4-a7be-41d4ef95fcb8 type none (rw,bind)
/proc on /var/lib/schroot/mount/mychroot-310b4003-44f5-42c4-a7be-41d4ef95fcb8/proc type none (rw,bind)
/sys on /var/lib/schroot/mount/mychroot-310b4003-44f5-42c4-a7be-41d4ef95fcb8/sys type none (rw,bind)
/dev on /var/lib/schroot/mount/mychroot-310b4003-44f5-42c4-a7be-41d4ef95fcb8/dev type none (rw,bind)
/dev/pts on /var/lib/schroot/mount/mychroot-310b4003-44f5-42c4-a7be-41d4ef95fcb8/dev/pts type none (rw,bind)
/home on /var/lib/schroot/mount/mychroot-310b4003-44f5-42c4-a7be-41d4ef95fcb8/home type none (rw,bind)
/tmp on /var/lib/schroot/mount/mychroot-310b4003-44f5-42c4-a7be-41d4ef95fcb8/tmp type none (rw,bind)
/run on /var/lib/schroot/mount/mychroot-310b4003-44f5-42c4-a7be-41d4ef95fcb8/run type none (rw,bind)
/run/lock on /var/lib/schroot/mount/mychroot-310b4003-44f5-42c4-a7be-41d4ef95fcb8/run/lock type none (rw,bind)
/run/shm on /var/lib/schroot/mount/mychroot-310b4003-44f5-42c4-a7be-41d4ef95fcb8/run/shm type none (rw,bind)
/run/shm on /var/lib/schroot/mount/mychroot-310b4003-44f5-42c4-a7be-41d4ef95fcb8/run/shm type none (rw,bind)
/mnt/development on /var/lib/schroot/mount/mychroot-310b4003-44f5-42c4-a7be-41d4ef95fcb8/mnt/development type none (rw,bind)
/opt/chroots/mychroot on /var/lib/schroot/mount/mychroot-5b4c3d84-e954-4a3f-a290-99cd2976472d type none (rw,bind)
/proc on /var/lib/schroot/mount/mychroot-5b4c3d84-e954-4a3f-a290-99cd2976472d/proc type none (rw,bind)
/sys on /var/lib/schroot/mount/mychroot-5b4c3d84-e954-4a3f-a290-99cd2976472d/sys type none (rw,bind)
/dev on /var/lib/schroot/mount/mychroot-5b4c3d84-e954-4a3f-a290-99cd2976472d/dev type none (rw,bind)
/dev/pts on /var/lib/schroot/mount/mychroot-5b4c3d84-e954-4a3f-a290-99cd2976472d/dev/pts type none (rw,bind)
/home on /var/lib/schroot/mount/mychroot-5b4c3d84-e954-4a3f-a290-99cd2976472d/home type none (rw,bind)
/tmp on /var/lib/schroot/mount/mychroot-5b4c3d84-e954-4a3f-a290-99cd2976472d/tmp type none (rw,bind)
/run on /var/lib/schroot/mount/mychroot-5b4c3d84-e954-4a3f-a290-99cd2976472d/run type none (rw,bind)
/run/lock on /var/lib/schroot/mount/mychroot-5b4c3d84-e954-4a3f-a290-99cd2976472d/run/lock type none (rw,bind)
/run/shm on /var/lib/schroot/mount/mychroot-5b4c3d84-e954-4a3f-a290-99cd2976472d/run/shm type none (rw,bind)
/run/shm on /var/lib/schroot/mount/mychroot-5b4c3d84-e954-4a3f-a290-99cd2976472d/run/shm type none (rw,bind)
/mnt/development on /var/lib/schroot/mount/mychroot-5b4c3d84-e954-4a3f-a290-99cd2976472d/mnt/development type none (rw,bind)
}}}

To end those lingering sessions, use
`$ schroot --end-session --all-sessions`

==  Number to String ==
To convert a number to string you can use [`std::to_string<T>`](http://en.cppreference.com/w/cpp/string/basic_string/to_string) rather than:

- std::ostringstream
- boost::lexical_cast<T>


== fontello for vimwiki ==
* Go to http://www.fontello.com to select the icons that should be included in the font pack
* Download the font pack and extract it into ~/wiki/resources/fontello
* Ensure there is a symlink to the fontello directory extracted to in the step above

* [ ] Create a template for the html pages that are generate from the wiki which references the fontello CSS, something like this

{{{
<link rel="Stylesheet" type="text/css" href="fontello/css/wikicons.css">
}}}

== Core files ==
Location of core files is dictated by the contents of /proc/sys/kernel/core_pattern.

This is what is in there by default for Ubuntu:
`|/usr/share/apport/apport %p %s %c %P`

== gcc ==
To get the actual command that make will use to build a compilation unit (for a make file generated with cmake), run `make VERBOSE=1`.
=== preprocessor, assembly ===
* The *preprocessed output* can be got on stdout by running the the make command with the -E flag. 
* To generate the *assembly code*, run make with the -S flag. By default this will produce a file with the same name as the source file, but with an _s_ extension.

    Remember to remove the -o flag from the make command as this will override -E and -S.
