<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css">
<title>Technical Journal</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>


<p>
Table of Contents
<div class="toc">
<ul>
<li><a href="#toc_1">Specific Topics</a>
<li><a href="#toc_2">General Topics</a>
<ul>
<li><a href="#toc_2.1">Shrink Linux partition</a>
<li><a href="#toc_2.2"><code>rsync</code> With Bandwidth Limit</a>
<li><a href="#toc_2.3">Shrinking a PDF</a>
<li><a href="#toc_2.4">Interrogating libraries and objects</a>
<li><a href="#toc_2.5">smbclient</a>
<li><a href="#toc_2.6">Lingering schroot session</a>
<li><a href="#toc_2.7">Number to String</a>
<li><a href="#toc_2.8">fontello for vimwiki</a>
<li><a href="#toc_2.9">Core files</a>
<li><a href="#toc_2.10">gcc</a>
<ul>
<li><a href="#toc_2.10.1">preprocessor, assembly</a>
</ul>
<li><a href="#toc_2.11">Clock tty tty-clock</a>
</ul>
</ul>
</div>
</p>

<h1 id="toc_1">Specific Topics</h1>
<ul>
<li>
<a href="vim.html">vim</a>

<li>
<a href="gtest.html">gtest</a>

<li>
<a href="gdb.html">gdb</a>

<li>
<a href="bash.html">bash</a>

<li>
<a href="awk.html">awk</a>

<li>
<a href="chroot.html">chroot</a>

<li>
<a href="python.html">python</a>

<li>
<a href="machine_learning.html">Machine Learning</a>

<li>
<a href="encryption.html">encryption</a>

</ul>

<h1 id="toc_2">General Topics</h1>

<h2 id="toc_2.1">Shrink Linux partition</h2>
<p>
See <a href="http://geekpeek.net/resize-filesystem-fdisk-resize2fs/">http://geekpeek.net/resize-filesystem-fdisk-resize2fs/</a>
</p>

<p>
3 basic steps:
</p>

<ul>
<li>
Check that the filesystem is in good shape

<ul>
<li>
<code>e2fsck -f /dev/sdx</code>

</ul>
<li>
Resize (shrink) the filesystem

<ul>
<li>
<code>resize2fs /dev/sdx 10G</code>

</ul>
<li>
Shrink the partition

<ul>
<li>
<code>fdisk /dev/sdb</code>

<ul>
<li>
<code>d 1</code>

<li>
<code>w</code>

<li>
<code>n</code>

<li>
<code>w</code>

</ul>
</ul>
</ul>

<h2 id="toc_2.2"><code>rsync</code> With Bandwidth Limit</h2>
<p>
Limit an rsync transfer to a certain KBPS using something like this:
</p>
<pre>
rsync &lt;SRC&gt; &lt;DEST&gt; --bwlimit=&lt;KBPS&gt;
</pre>

<h2 id="toc_2.3">Shrinking a PDF</h2>
<p>
See <a href="http://www.ehow.com/how_6823473_reduce-pdf-file-size-linux.html">http://www.ehow.com/how_6823473_reduce-pdf-file-size-linux.html</a>
</p>
<pre>
gs -dNOPAUSE -dBATCH -sDEVICE=pdfwrite -dCompatibilityLevel=1.4 -dPDFSETTINGS=&lt;setting&gt; -sOutputFile=output.pdf input.pdf
</pre>
<p>
where &lt;setting&gt; is:
</p>

<ul>
<li>
<code>/screen</code>

<li>
<code>/ebook</code>

<li>
<code>/printer</code>, <code>/prepress</code>

</ul>

<p>
See <a href="http://www.ehow.com/how_6823473_reduce-pdf-file-size-linux.html">http://www.ehow.com/how_6823473_reduce-pdf-file-size-linux.html</a>
</p>

<h2 id="toc_2.4">Interrogating libraries and objects</h2>
<p>
<code>nm</code> will list the symbols in an object file.
Itâ€™s convenient to pipe the output through c++filt., e.g.
</p>
<pre>
nm &lt;libname&gt;.so | c++filt | grep &lt;symbol&gt;
</pre>
<p>
<code>ldd</code> will list the shared library dependencies.
</p>

<h2 id="toc_2.5">smbclient</h2>
<p>
To access a samba server from the command line, use smbclient, e.g.
</p>
<pre>
smbclient //10.10.10.7/share -U stefan.adelbert
</pre>
<p>
The you can access files on the share much like using an FTP client, e.g.
</p>
<pre>
get &lt;filename&gt;
</pre>

<h2 id="toc_2.6">Lingering schroot session</h2>
<p>
Sometimes after logging out or shutting down, schroot session are persisted. This is evident from a bunch of mounts hanging around, e.g.
</p>

<pre>
$ mount
...
/opt/chroots/mychroot on /var/lib/schroot/mount/mychroot-310b4003-44f5-42c4-a7be-41d4ef95fcb8 type none (rw,bind)
/proc on /var/lib/schroot/mount/mychroot-310b4003-44f5-42c4-a7be-41d4ef95fcb8/proc type none (rw,bind)
/sys on /var/lib/schroot/mount/mychroot-310b4003-44f5-42c4-a7be-41d4ef95fcb8/sys type none (rw,bind)
/dev on /var/lib/schroot/mount/mychroot-310b4003-44f5-42c4-a7be-41d4ef95fcb8/dev type none (rw,bind)
/dev/pts on /var/lib/schroot/mount/mychroot-310b4003-44f5-42c4-a7be-41d4ef95fcb8/dev/pts type none (rw,bind)
/home on /var/lib/schroot/mount/mychroot-310b4003-44f5-42c4-a7be-41d4ef95fcb8/home type none (rw,bind)
/tmp on /var/lib/schroot/mount/mychroot-310b4003-44f5-42c4-a7be-41d4ef95fcb8/tmp type none (rw,bind)
/run on /var/lib/schroot/mount/mychroot-310b4003-44f5-42c4-a7be-41d4ef95fcb8/run type none (rw,bind)
/run/lock on /var/lib/schroot/mount/mychroot-310b4003-44f5-42c4-a7be-41d4ef95fcb8/run/lock type none (rw,bind)
/run/shm on /var/lib/schroot/mount/mychroot-310b4003-44f5-42c4-a7be-41d4ef95fcb8/run/shm type none (rw,bind)
/run/shm on /var/lib/schroot/mount/mychroot-310b4003-44f5-42c4-a7be-41d4ef95fcb8/run/shm type none (rw,bind)
/mnt/development on /var/lib/schroot/mount/mychroot-310b4003-44f5-42c4-a7be-41d4ef95fcb8/mnt/development type none (rw,bind)
/opt/chroots/mychroot on /var/lib/schroot/mount/mychroot-5b4c3d84-e954-4a3f-a290-99cd2976472d type none (rw,bind)
/proc on /var/lib/schroot/mount/mychroot-5b4c3d84-e954-4a3f-a290-99cd2976472d/proc type none (rw,bind)
/sys on /var/lib/schroot/mount/mychroot-5b4c3d84-e954-4a3f-a290-99cd2976472d/sys type none (rw,bind)
/dev on /var/lib/schroot/mount/mychroot-5b4c3d84-e954-4a3f-a290-99cd2976472d/dev type none (rw,bind)
/dev/pts on /var/lib/schroot/mount/mychroot-5b4c3d84-e954-4a3f-a290-99cd2976472d/dev/pts type none (rw,bind)
/home on /var/lib/schroot/mount/mychroot-5b4c3d84-e954-4a3f-a290-99cd2976472d/home type none (rw,bind)
/tmp on /var/lib/schroot/mount/mychroot-5b4c3d84-e954-4a3f-a290-99cd2976472d/tmp type none (rw,bind)
/run on /var/lib/schroot/mount/mychroot-5b4c3d84-e954-4a3f-a290-99cd2976472d/run type none (rw,bind)
/run/lock on /var/lib/schroot/mount/mychroot-5b4c3d84-e954-4a3f-a290-99cd2976472d/run/lock type none (rw,bind)
/run/shm on /var/lib/schroot/mount/mychroot-5b4c3d84-e954-4a3f-a290-99cd2976472d/run/shm type none (rw,bind)
/run/shm on /var/lib/schroot/mount/mychroot-5b4c3d84-e954-4a3f-a290-99cd2976472d/run/shm type none (rw,bind)
/mnt/development on /var/lib/schroot/mount/mychroot-5b4c3d84-e954-4a3f-a290-99cd2976472d/mnt/development type none (rw,bind)
</pre>

<p>
To end those lingering sessions, use
<code>$ schroot --end-session --all-sessions</code>
</p>

<h2 id="toc_2.7">Number to String</h2>
<p>
To convert a number to string you can use [<code>std::to_string&lt;T&gt;</code>](<a href="http://en.cppreference.com/w/cpp/string/basic_string/to_string)">http://en.cppreference.com/w/cpp/string/basic_string/to_string)</a> rather than:
</p>

<ul>
<li>
std::ostringstream

<li>
boost::lexical_cast&lt;T&gt;

</ul>


<h2 id="toc_2.8">fontello for vimwiki</h2>
<ul>
<li>
Go to <a href="http://www.fontello.com">http://www.fontello.com</a> to select the icons that should be included in the font pack

<li>
Download the font pack and extract it into ~/wiki/resources/fontello

<li>
Ensure there is a symlink to the fontello directory extracted to in the step above

</ul>

<ul>
<li class="done0">
Create a template for the html pages that are generate from the wiki which references the fontello CSS, something like this

</ul>

<pre>
&lt;link rel="Stylesheet" type="text/css" href="fontello/css/wikicons.css"&gt;
</pre>

<h2 id="toc_2.9">Core files</h2>
<p>
Location of core files is dictated by the contents of /proc/sys/kernel/core_pattern.
</p>

<p>
This is what is in there by default for Ubuntu:
<code>|/usr/share/apport/apport %p %s %c %P</code>
</p>

<h2 id="toc_2.10">gcc</h2>
<p>
To get the actual command that make will use to build a compilation unit (for a make file generated with cmake), run <code>make VERBOSE=1</code>.
</p>
<h3 id="toc_2.10.1">preprocessor, assembly</h3>
<ul>
<li>
The <strong>preprocessed output</strong> can be got on stdout by running the the make command with the -E flag. 

<li>
To generate the <strong>assembly code</strong>, run make with the -S flag. By default this will produce a file with the same name as the source file, but with an <em>s</em> extension.

</ul>
<blockquote>
Remember to remove the -o flag from the make command as this will override -E and -S.
</blockquote>

<h2 id="toc_2.11">Clock tty tty-clock</h2>
<p>
Really nice terminal clock - nice and simple.
</p>
<pre>
tty-clock -c -s -C7
</pre>
<ul>
<li>
-c centered

<li>
-s show seconds

<li>
-C7 colour (7=white)

</ul>

</body>
</html>
